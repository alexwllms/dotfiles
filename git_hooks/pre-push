# do not forget to run chmod u+x .git/hooks/pre-push

echo "Running RSpec"
bundle exec rspec spec
spec=$?

if [ $spec -eq 0 ]; then
  echo "\\033[32mTests are green, pushing...\\033[0;39m"
  exit 0
else
  echo "\\033[1;31mCannot push, tests are failing. Use --no-verify to force push.\\033[0;39m"
  exit 1
fi

# echo "Running Karma"
# bundle exec rake karma:run
# karma=$?
# 
# if [ $karma -eq 0 ]; then
#   echo "\\033[32mTests are green, pushing...\\033[0;39m"
#   exit 0
# else
#   echo "\\033[1;31mCannot push, tests are failing. Use --no-verify to force push.\\033[0;39m"
#   exit 1
# fi
